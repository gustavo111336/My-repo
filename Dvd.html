<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>DVD Neon ∞ Engine</title>

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:radial-gradient(circle,#12001f,#050008);
  overflow:hidden;
  font-family:Arial,Helvetica,sans-serif;
}

/* HUD */
#hud{
  position:fixed;
  top:20px;
  left:20px;
  padding:14px;
  border-radius:14px;
  background:rgba(0,0,0,.65);
  color:#0ff;
  box-shadow:0 0 15px #0ff, inset 0 0 10px #a0f;
}

#hud div{ margin-bottom:6px; }

#hud input,#hud button{
  width:100%;
  margin-top:4px;
  background:black;
  border:1px solid #0ff;
  color:#0ff;
  border-radius:8px;
  padding:6px;
}

#footer{
  position:fixed;
  bottom:10px;
  right:15px;
  color:#a0f;
  font-size:12px;
  opacity:.8;
}

/* DVD */
#dvd{
  position:absolute;
  width:120px;
  height:60px;
  border-radius:12px;
  background:linear-gradient(45deg,#0ff,#f0f,#0ff);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  color:black;
  box-shadow:0 0 15px #0ff, 0 0 40px #f0f;
  user-select:none;
}
</style>
</head>

<body>

<div id="hud">
  <div>PONTOS: <span id="pontos">0</span></div>
  <div>VELOCIDADE: <span id="velocidade">1</span></div>
  <div>AUMENTO POR CLIQUE</div>
  <input id="boost" type="number" value="1">
  <button id="btn">AUMENTAR VELOCIDADE</button>
</div>

<div id="dvd">DVD</div>
<div id="footer">© Gustavo — config speed mode</div>

<script>
window.onload = () => {

  const dvd = document.getElementById("dvd");
  const pontosEl = document.getElementById("pontos");
  const velocidadeEl = document.getElementById("velocidade");
  const boostInput = document.getElementById("boost");
  const btn = document.getElementById("btn");

  let x = 120, y = 120;
  let vx = 1, vy = 1;

  // SISTEMA DUPLO
  let velocidadeReal = 1;
  let velocidadeDisplay = 1;
  let pontos = 0;

  function formatar(n){
    if(!isFinite(n)) return "∞";
    if(n < 1e6) return n.toFixed(2);
    if(n < 1e9) return (n/1e6).toFixed(2)+" M";
    if(n < 1e12) return (n/1e9).toFixed(2)+" B";
    if(n < 1e15) return (n/1e12).toFixed(2)+" T";
    return n.toExponential(2);
  }

  // BOTÃO (ARRUMADO)
  btn.onclick = () => {
    let boost = Number(boostInput.value);
    if(!isFinite(boost) || boost <= 0) boost = 1;

    // visual explode
    velocidadeDisplay += boost;

    // física cresce forte mas estável
    velocidadeReal += Math.pow(boost, 0.25);
  };

  function loop(){
    const w = window.innerWidth - dvd.offsetWidth;
    const h = window.innerHeight - dvd.offsetHeight;

    // passo com clamp anti-quebra
    let passoBase = Math.sqrt(velocidadeReal) * 2;
    let passoMax = Math.min(w, h) / 4;
    let passo = Math.min(passoBase, passoMax);

    if(!isFinite(passo)) passo = passoMax;

    x += vx * passo;
    y += vy * passo;

    if(x <= 0 || x >= w){
      vx *= -1;
      pontos++;
    }

    if(y <= 0 || y >= h){
      vy *= -1;
      pontos++;
    }

    x = Math.max(0, Math.min(x, w));
    y = Math.max(0, Math.min(y, h));

    dvd.style.left = x + "px";
    dvd.style.top = y + "px";

    pontosEl.textContent = formatar(pontos);
    velocidadeEl.textContent = formatar(velocidadeDisplay);

    requestAnimationFrame(loop);
  }

  loop();
};
</script>

</body>
</html>
